{"ast":null,"code":"var _jsxFileName = \"C:\\\\ferreiraLapa\\\\projetopathos\\\\frontweb\\\\src\\\\pages\\\\Admin\\\\Edificios\\\\EdificioCrudCard\\\\index.tsx\";\nimport './styles.css';\nimport ResumoCard from 'components/ResumoCard';\nimport AnomaliaBadge from '../AnomaliaBadge';\nimport { Link } from 'react-router-dom';\nimport { requestBackend } from 'util/requests';\n/**\r\n * No Props acrescentámos mais uma Prop, que consiste no evento onDelete, que consiste numa função.\r\n * Depois, estando assim disponível, podemos chamá-la na função onde for pertinente, neste caso será no \r\n * pedido ao backend, requestBackend(), para que, sempre que seja apagado um Edificio, \r\n * o componente List \"saiba\" que o evento ocorreu, pois está a ser !observado! (uma vez que a função está inscrita nesse mesmo componente) \r\n * e então atualiza e renderiza o novo estado da lista, aquando a função getEdificios seja chamada desde o BE.\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EdificioCrudCard = _ref => {\n  let {\n    edificio,\n    onDelete\n  } = _ref;\n\n  const handleDelete = edificioId => {\n    /**\r\n     * Janela de confirmação antes de apagar. Se for falso, interrompemos o método e não apaga\r\n     */\n    if (!window.confirm(\"Tem certeza que deseja apagar?\")) {\n      return;\n    }\n\n    const config = {\n      method: 'DELETE',\n      url: `/edificios/${edificioId}`,\n      withCredentials: true\n    };\n    requestBackend(config).then(() => {\n      onDelete();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"base-card edificio-crud-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edificio-crud-card-top-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: edificio.imgUrl,\n        alt: edificio.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edificio-crud-card-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edificio-crud-card-bottom-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: edificio.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResumoCard, {\n          descricao: edificio.tipologia\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edificio-crud-anomalia-container\",\n        children: edificio.anomalias.map(anomalia => /*#__PURE__*/_jsxDEV(AnomaliaBadge, {\n          tipologia: anomalia.tipologia\n        }, anomalia.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edificio-crud-card-buttons-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleDelete(edificio.id),\n        className: \"btn btn-outline-danger edificio-crud-card-button edificio-crud-card-button-first\",\n        children: \"EXCLUIR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/admin/edificios/${edificio.id}`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-secondary edificio-crud-card-button\",\n          children: \"EDITAR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_c = EdificioCrudCard;\nexport default EdificioCrudCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"EdificioCrudCard\");","map":{"version":3,"names":["ResumoCard","AnomaliaBadge","Link","requestBackend","EdificioCrudCard","edificio","onDelete","handleDelete","edificioId","window","confirm","config","method","url","withCredentials","then","imgUrl","nome","tipologia","anomalias","map","anomalia","id"],"sources":["C:/ferreiraLapa/projetopathos/frontweb/src/pages/Admin/Edificios/EdificioCrudCard/index.tsx"],"sourcesContent":["import './styles.css';\r\n\r\nimport ResumoCard from 'components/ResumoCard';\r\nimport { Edificio } from 'types/edificio';\r\nimport AnomaliaBadge from '../AnomaliaBadge';\r\nimport { Link } from 'react-router-dom';\r\nimport { AxiosRequestConfig } from 'axios';\r\nimport { requestBackend } from 'util/requests';\r\n\r\n/**\r\n * No Props acrescentámos mais uma Prop, que consiste no evento onDelete, que consiste numa função.\r\n * Depois, estando assim disponível, podemos chamá-la na função onde for pertinente, neste caso será no \r\n * pedido ao backend, requestBackend(), para que, sempre que seja apagado um Edificio, \r\n * o componente List \"saiba\" que o evento ocorreu, pois está a ser !observado! (uma vez que a função está inscrita nesse mesmo componente) \r\n * e então atualiza e renderiza o novo estado da lista, aquando a função getEdificios seja chamada desde o BE.\r\n */\r\ntype Props = {\r\n  edificio: Edificio;\r\n  onDelete: Function;\r\n};\r\n\r\nconst EdificioCrudCard = ({ edificio, onDelete }: Props) => {\r\n  const handleDelete = (edificioId: number) => {\r\n\r\n    /**\r\n     * Janela de confirmação antes de apagar. Se for falso, interrompemos o método e não apaga\r\n     */\r\n    if (!window.confirm(\"Tem certeza que deseja apagar?\")) {\r\n      return;\r\n    }\r\n\r\n    const config: AxiosRequestConfig = {\r\n      method: 'DELETE',\r\n      url: `/edificios/${edificioId}`,\r\n      withCredentials: true,\r\n    };\r\n\r\n    requestBackend(config).then(() => {\r\n      onDelete();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"base-card edificio-crud-card\">\r\n      <div className=\"edificio-crud-card-top-container\">\r\n        <img src={edificio.imgUrl} alt={edificio.nome} />\r\n      </div>\r\n      <div className=\"edificio-crud-card-description\">\r\n        <div className=\"edificio-crud-card-bottom-container\">\r\n          <h6>{edificio.nome}</h6>\r\n          <ResumoCard descricao={edificio.tipologia} />\r\n        </div>\r\n        <div className=\"edificio-crud-anomalia-container\">\r\n          {edificio.anomalias.map((anomalia) => (\r\n            <AnomaliaBadge tipologia={anomalia.tipologia} key={anomalia.id} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"edificio-crud-card-buttons-container\">\r\n        <button \r\n        onClick={() => handleDelete(edificio.id)}\r\n        className=\"btn btn-outline-danger edificio-crud-card-button edificio-crud-card-button-first\">\r\n          EXCLUIR\r\n        </button>\r\n        <Link to={`/admin/edificios/${edificio.id}`}>\r\n          <button className=\"btn btn-outline-secondary edificio-crud-card-button\">\r\n            EDITAR\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EdificioCrudCard;\r\n"],"mappings":";AAAA,OAAO,cAAP;AAEA,OAAOA,UAAP,MAAuB,uBAAvB;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,SAASC,cAAT,QAA+B,eAA/B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAMA,MAAMC,gBAAgB,GAAG,QAAmC;EAAA,IAAlC;IAAEC,QAAF;IAAYC;EAAZ,CAAkC;;EAC1D,MAAMC,YAAY,GAAIC,UAAD,IAAwB;IAE3C;AACJ;AACA;IACI,IAAI,CAACC,MAAM,CAACC,OAAP,CAAe,gCAAf,CAAL,EAAuD;MACrD;IACD;;IAED,MAAMC,MAA0B,GAAG;MACjCC,MAAM,EAAE,QADyB;MAEjCC,GAAG,EAAG,cAAaL,UAAW,EAFG;MAGjCM,eAAe,EAAE;IAHgB,CAAnC;IAMAX,cAAc,CAACQ,MAAD,CAAd,CAAuBI,IAAvB,CAA4B,MAAM;MAChCT,QAAQ;IACT,CAFD;EAGD,CAlBD;;EAoBA,oBACE;IAAK,SAAS,EAAC,8BAAf;IAAA,wBACE;MAAK,SAAS,EAAC,kCAAf;MAAA,uBACE;QAAK,GAAG,EAAED,QAAQ,CAACW,MAAnB;QAA2B,GAAG,EAAEX,QAAQ,CAACY;MAAzC;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAK,SAAS,EAAC,gCAAf;MAAA,wBACE;QAAK,SAAS,EAAC,qCAAf;QAAA,wBACE;UAAA,UAAKZ,QAAQ,CAACY;QAAd;UAAA;UAAA;UAAA;QAAA,QADF,eAEE,QAAC,UAAD;UAAY,SAAS,EAAEZ,QAAQ,CAACa;QAAhC;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAK,SAAS,EAAC,kCAAf;QAAA,UACGb,QAAQ,CAACc,SAAT,CAAmBC,GAAnB,CAAwBC,QAAD,iBACtB,QAAC,aAAD;UAAe,SAAS,EAAEA,QAAQ,CAACH;QAAnC,GAAmDG,QAAQ,CAACC,EAA5D;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QALF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAeE;MAAK,SAAS,EAAC,sCAAf;MAAA,wBACE;QACA,OAAO,EAAE,MAAMf,YAAY,CAACF,QAAQ,CAACiB,EAAV,CAD3B;QAEA,SAAS,EAAC,kFAFV;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAME,QAAC,IAAD;QAAM,EAAE,EAAG,oBAAmBjB,QAAQ,CAACiB,EAAG,EAA1C;QAAA,uBACE;UAAQ,SAAS,EAAC,qDAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8BD,CAnDD;;KAAMlB,gB;AAqDN,eAAeA,gBAAf"},"metadata":{},"sourceType":"module"}